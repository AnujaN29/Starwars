above10<- function(x)
above10<-function(x)
{     use<- x>10
x[use]
}
above10(1:20)
path<-/users/Anuja/documents/specdata
path
path<-"/users/Anuja/Documents/specdata"
path
file.names<-dir(path,pattern=".csv")
for (i in 1:length(file.names)){file<-read.table(file.names[i])}
path<-"/users/Anuja/Documents/specdata"
path
d<-list.files(path,pattern=".csv")
d
d<-list.files(path)
d
list.files()
cd Documents
list.files("/users/Anuja/Documents/specdata")
d<-list.files(path='/users/Anuja/Documents/specdata',all.files=TRUE)
d
path<-"/users/Anuja/Documents/specdata"
out.file<-""
file.names <- dir(path, pattern =".csv")
for(i in 1:length(file.names)){
file <- read.table(file.names[i],header=TRUE)
out.file <- rbind(out.file, file)
}
write.table(out.file)
path<-"/users/Anuja/Documents/specdata"
out.file<-""
file.names <- dir(path, pattern =".csv")
for(i in 1:length(file.names)){
file <- read.table(file.names[i],header=TRUE)
out.file <- rbind(out.file, file)
}
path<-"/users/nujanair/Documents/specdata"
d<-list.files(path)
d
path<-"/users/nujanair/Documents/specdata"
out.file<-""
file.names <- dir(path, pattern =".csv")
for(i in 1:length(file.names)){
file <- read.table(file.names[i],header=TRUE)
out.file <- rbind(out.file, file)
}
write.table(out.file)
d<-read.csv(/users/nujanair/Documents/specdata/200.csv)
d<-read.csv("/users/nujanair/Documents/specdata/200.csv")
d<-read.csv("/users/anujanair/Documents/specdata/200.csv")
d
getwd()
add2 <- function (x,y)
{ x+y}
add(3,5)
add2(4,6)
above10 <-function (x)
{
use <- x>10
x[use]
}
above <-function (x,n)
{
use <-x>n
x[use]
}
x<1:11
x<-1:11
above10(x)
above(x,3)
columnmean <-function (x)
{
nc<-ncol(x)
means<-numeric(nc)
for (i in 1:nc)
{
means[i]=means[x(,i)]
}
means
}
columnmean(airquality)
columnmean <-function (x)
{
nc<-ncol(x)
means<-numeric(nc)
for (i in 1:nc)
{
means[i]=means[x(,i),na.rm=removeNA]
}
means
}
if ("TRUE" == "TRUE")
print "True"
else
print "false"
isTRUE(3)
isTRUE(!TRUE)
isTRUE(NA)
identical(4, 3.1)
isTRUE(7 == 7.0)
library(swirl)
ls()
rm(list=ls())
swirl()
sum(flag$orange)
sum(flags$orange)
flag_color<-flags[,11:17]
flag_colors <- flags[, 11:17]
head(flag_colors)
lapply(flag_colors,sum)
sapply(flag_colors,sum)
sapply(flag_colors,mean)
flag_shapes<-flags[,19:23]
lapply(flag_shapes,range)
shape_mat<-sapply(flag_shapes,sum)
shape_mat <- sapply(flag_shapes, range)
shape_mat
class(shape_mat)
unique(c(3,4,5,5,5,6.6))
unique(c(3, 4, 5, 5, 5, 6, 6))
unique_vals<-lapply(flags,unique)
unique_vals
lapply(unique_vals,length)
sapply(unique_vals,length)
sapply(flags,unique)
lapply(unique_vals, function(elem) elem[2])
d1<-sys.dates()
d1<-Sys.dates()
d1<-Sys.dates()
d1<-Sys.date()
d1<-Sys.Date()
class(d1)
unclass(d1)
d1
d2<-as.Date("1969-01-01")
unclass(d2)
t1<-Sys.Time()
t1<-Sys.time()
t1
class(t1)
unclass(t1)
t2<-s.POSIXlt(Sys.time())
t2<-as.POSIXlt(Sys.time())
t2
class(t2)
t2
unclass(t2)
str(unclass(t2))
t2$min
weekdays(d1)
months(t1)
quarters(t2)
t3<- "October 17, 1986 08:24"
t4<-strptime(t3, "%B %d, %Y %H:%M")
t4
class(t4)
Sys.time() > t1
Sys.time() - t1
difftime(Sys.time(), t1, units = 'days')
bye()
cube <- function(x, n) {
x^3
}
cube(3)
n
pollutantmean <- function (directory,id=1:332)
{
dir=character(250)
dir <-directory
print dir
}
pollutantmean <- function (directory)
{
dir=character(250)
dir <-directory
print dir
}
pollutantmean <- function (directory)
{
dir=character(250)
dir <-directory
##print dir
}
pollutantmean("/Users/anujanair/Documents/Data Science/R/specdata")
dir
pollutantmean <- function (directory)
{
dir=character(250)
dir <-directory
dir
##print dir
}
pollutantmean <- function (directory)
{
dir=character(250)
dir <-directory
dir
##print dir
}
pollutantmean("/Users/anujanair/Documents/Data Science/R/specdata")
pollutantmean <- function (directory,pollutant)
{
dir=character(250)
dir <-directory
## dir
pol=character(100)
pol<-pollutant
pol
}
pollutantmean("/Users/anujanair/Documents/Data Science/R/specdata","sulfate")
pollutantmean <- function (directory,pollutant)
{
dir=character(250)
dir <-directory
dir
pol=character(100)
pol<-pollutant
pol
}
pollutantmean("/Users/anujanair/Documents/Data Science/R/specdata","sulfate"
pollutantmean("/Users/anujanair/Documents/Data Science/R/specdata","sulfate")
pollutantmean("/Users/anujanair/Documents/Data Science/R/specdata","Nitrate")
pollutantmean <- function (directory,pollutant)
{
dir=character(250)
dir <-directory
dir
pol=character(100)
pol<-pollutant
pol
}
pollutantmean("/Users/anujanair/Documents/Data Science/R","nitrate")
dir
pollutantmean <- function (directory,pollutant,id=1:332)
{
dir=character(250)
dir <-directory
dir
pol=character(100)
pol<-pollutant
pol
df<-dataframe(read.csv("directory/id.csv"))
ncol(df)
}
pollutantmean(“/Users/anujanair/Documents/Data Science/R/specdata“,”nitrate”,200)
pollutantmean <- function (directory,pollutant,id=1:332)
{
dir=character(250)
dir <-directory
dir
pol=character(100)
pol<-pollutant
pol
filename=character(3)
filename<-id
df<-dataframe(read.csv("directory/id.csv"))
ncol(df)
}
pollutantmean(“/Users/anujanair/Documents/Data Science/R/specdata“,”nitrate”,200)
pollutantmean <- function (directory)
{
dir=character(1)
dir <-directory
dir
}
pollutantmean(“/Users/anujanair/Documents/Data Science/R/specdata“)
pollutantmean <- function (directory)
{
dir=character(20)
dir <-directory
dir
}
pollutantmean(“specdata")"
pollutantmean(“specdata")
printn <-function(x)
{
for (i in seq_along(x))
{print x[i]}
}
printn <-function(x)
{
for (i in seq_along(x))
print x[i]
}
printn <-function(x)
{
for(i in seq_along(x)) {
print(x[i])
}
}
x<-71:200
printn(x)
setwd("Users/anujanair/Documents/Data Science/R/")
#getwd()
#list.files()
pollutantmean <- function(directory, pollutant = "sulfate", id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'pollutant' is a character vector of length 1 indicating
## the name of the pollutant for which we will calculate the
## mean; either "sulfate" or "nitrate".
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return the mean of the pollutant across all monitors list
## in the 'id' vector (ignoring NA values)
# set working directory
if(grep("specdata", directory) == 1) {
directory <- ("./specdata/")
}
# initialize a vector to hold the pollutant data
mean_vector <- c()
# find all files in the specdata folder
all_files <- as.character( list.files(directory) )
file_paths <- paste(directory, all_files, sep="")
for(i in id) {
current_file <- read.csv(file_paths[i], header=T, sep=",")
head(current_file)
pollutant
na_removed <- current_file[!is.na(current_file[, pollutant]), pollutant]
mean_vector <- c(mean_vector, na_removed)
}
result <- mean(mean_vector)
return(round(result, 3))
}
pollutantmean("/Users/anujanair/Documents/Data Science/R/specdata","sulfate")pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
getwd()
setwd("Users/anujanair/Documents/Data Science/R/")
setwd("~/Documents/Data Science/R")
getwd()
pollutantmean("specdata", "sulfate", 1:10)
complete <- function(directory, id) {
s <- vector()
for (i in 1:length(id)) {
path <- c(paste(directory, "/",formatC(id[i], width=3, flag=0),".csv",sep=""))
data <- c(read.csv(path))
s[i] <- sum(complete.cases(data))
}
dat <- data.frame(cbind(id,nobs=s))
return(dat)
}
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
# set working directory
if(grep("specdata", directory) == 1) {
directory <- ("./specdata/")
}
files <- list.files( path = directory )
cr <- c()
for(f in 1:length(files)){
data <- read.csv( paste(directory, "/", files[f], sep="") )
data <- data[complete.cases(data),]
if ( nrow(data) > threshold ) {
cr <- c(cr, cor(data$sulfate, data$nitrate) ) # append corralations
}
}
return( cr )
}
cr <- corr("specdata", 150)
cr
clr()
cls()
clr
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
